{"version":3,"file":"public/javascripts/app.js","sources":["app/application.js","app/initialize.js","app/lib/router.js","app/lib/view_helper.js","app/models/collection.js","app/models/model.js","app/models/product.js","app/models/products.js","app/views/home_view.js","app/views/product_view.js","app/views/products_view.js","app/views/templates/home.jade","app/views/templates/product.jade","app/views/templates/products.jade","app/views/view.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;A,CCAA;;AACA;AADA;;A,CCAA;;AACA;AACA;AACA;AAHA;;A,CCAA;;AACA;AACA;AACA;AAHA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AALA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtFA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;;A","sourcesContent":["// Application bootstrapper.\nvar Application = {\n  initialize: function () {\n    var HomeView = require('views/home_view'), Router = require('lib/router');\n    // Ideally, initialized classes should be kept in controllers & mediator.\n    // If you're making big webapp, here's more sophisticated skeleton\n    // https://github.com/paulmillr/brunch-with-chaplin\n    this.homeView = new HomeView();\n    this.router = new Router();\n    if (typeof Object.freeze === 'function') {\n      Object.freeze(this);\n    }\n  }\n};\n\nmodule.exports = Application;\n","var application = require('application');\n\n$(function () {\n  application.initialize();\n  Backbone.history.start();\n});\n","var application = require('application');\n\nmodule.exports = Backbone.Router.extend({\n    routes: {\n        \"\": \"home\"\n    },\n\n    home: function () {\n        $(\"body\").html(application.homeView.render().el);\n    }\n});\n","// Put your handlebars.js helpers here.\n","// Base class for all collections.\nmodule.exports = Backbone.Collection.extend({\n});\n","// Base class for all models.\nmodule.exports = Backbone.Model.extend({\n});\n","var Model = require(\"./model\");\n\nmodule.exports = Model.extend({\n    \"urlRoot\": \"products\"\n});\n","var Collection = require(\"./collection\"),\n    Product    = require(\"./product\");\n\nmodule.exports = Collection.extend({\n    \"model\": Product,\n    \"url\": \"products\"\n});\n","var View         = require(\"./view\"),\n    Product      = require(\"../models/product\"),\n    Products     = require(\"../models/products\"),\n    ProductsView = require(\"./products_view\"),\n    template     = require(\"./templates/home\");\n\nmodule.exports = View.extend({\n    \"id\": \"home-view\",\n    \"template\": template,\n\n    \"events\": {\n        \"click .menu\": \"goMenu\",\n        \"click .menu .shop\": \"goShop\",\n        \"click .menu .fridge\": \"goFridge\",\n        \"click .menu .cook\": \"goCook\",\n        \"click .menu .recipe\": \"goRecipe\",\n    },\n\n    \"swipers\": {},\n\n    \"goPage\": function (pageName) {\n        var that = this, \n            pageClass = \".\" + pageName;\n\n        $(\"#content\").removeClass();\n        $(\"#content\").addClass(pageName);\n\n        if (!that.swipers[pageName]) {\n            that.swipers[pageName] = $(\".swiper-container:visible\").swiper({\n                \"loop\": false,\n                \"grabCursor\": true,\n                \"pagination\": pageClass + \"> .pagination\",\n                \"paginationClickable\": true,\n                \"keyboardControl\": true\n            });\n            $(pageClass + \"> .navigation.left\").on(\"click\", function (evt) {\n                evt.preventDefault()\n                that.swipers[pageName].swipePrev()\n            });\n            $(pageClass + \"> .navigation.right\").on(\"click\", function (evt) {\n                evt.preventDefault()\n                that.swipers[pageName].swipeNext()\n            });\n        }\n    },\n\n    \"goShop\": function () {\n        this.goPage(\"shop\");\n\n        return false;\n    },\n\n    \"goFridge\": function () {\n        this.products = new Products([ \n            { \"name\": \"pates\", \"number\": 4, \"price\": 0.59 },\n            { \"name\": \"riz\", \"number\": 0, \"price\": 1.32 },\n        ]);\n        this.productsView = new ProductsView({ \n            \"el\": $(\"#fridge\")[0],\n            \"collection\": this.products\n        });\n        this.productsView.render();\n        this.goPage(\"fridge\");\n\n        return false;\n    },\n\n    \"goCook\": function () {\n        this.goPage(\"cook\");\n\n        return false;\n    },\n\n    \"goRecipe\": function () {\n        this.goPage(\"recipe\");\n\n        return false;\n    },\n\n    \"goMenu\": function () {\n        this.goPage(\"menu\");\n\n        return false;\n    }\n\n});\n","var View     = require(\"./view\"),\n    Product  = require(\"../models/product\"),\n    template = require(\"./templates/product\");\n\nmodule.exports = View.extend({\n    \"tagName\": \"li\",\n    \"className\": \"row\",\n    \"template\": template,\n\n    \"model\": Product,\n\n    \"getRenderData\": function () { \n        var attributes = this.model.attributes;\n        if (!attributes.image) {\n            attributes.image = \"images/fridge.png\";\n        }\n        return attributes;\n    },\n\n    \"initialize\": function () {\n        this.render();\n    }\n\n});\n\n","var View        = require(\"./view\"),\n    Product     = require(\"../models/product\"),\n    Products    = require(\"../models/products\"),\n    ProductView = require(\"./product_view\"),\n    template    = require(\"./templates/products\");\n\nmodule.exports = View.extend({\n    \"collection\": Products,\n    \n    \"template\": template,\n\n    \"render\": function () {\n        this.$el.html(this.template(this.getRenderData()));\n        this.collection.each(function (product){\n            this.add(product);\n        }, this);\n    },\n\n    \"add\": function (product) {\n        var productView = new ProductView({ \"model\": product });\n        this.$el.find(\"ul.products\").prepend(productView.el)\n    },\n\n    \"events\": {\n        \"submit form\": \"addProduct\",\n    },\n\n    \"addProduct\": function (evt) {\n        var $form = $(evt.target),\n            product = new Product ({\n                \"name\": $(\"#product-name\").val(),\n                \"number\": $(\"#product-number\").val(),\n                \"price\": $(\"#product-price\").val(),\n            });\n\n        this.collection.push(product);\n        this.add(product);\n\n        return false;\n    },\n\n});\n","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div id=\"content\" class=\"menu\"><div class=\"header\"><div class=\"menu\"><img src=\"images/titre.png\" alt=\"aliventaire\" title=\"Aliventaire\"/></div><div class=\"shop\"><img src=\"images/shop.png\" alt=\"shop\" title=\"Retour au menu\" class=\"menu\"/><h1>Mes courses</h1><div class=\"pagination\"></div></div><div class=\"fridge\"><img src=\"images/fridge.png\" alt=\"fridge\" title=\"Retour au menu\" class=\"menu\"/><h1>Mon placard</h1><div class=\"pagination\"></div></div><div class=\"cook\"><img src=\"images/cook.png\" alt=\"cook\" title=\"Retour au menu\" class=\"menu\"/><h1>Ma cuisine</h1><div class=\"pagination\"></div></div><div class=\"recipe\"><img src=\"images/recipe.png\" alt=\"recipe\" title=\"Retour au menu\" class=\"menu\"/><h1>Mes recettes</h1><div class=\"pagination\"></div></div></div><div class=\"page\"><div class=\"menu\"><div class=\"row\"><img src=\"images/shop.png\" alt=\"shop\" title=\"Mes courses\" class=\"shop\"/><img src=\"images/fridge.png\" alt=\"fridge\" title=\"Mon placard\" class=\"fridge\"/></div><div class=\"row\"><img src=\"images/cook.png\" alt=\"cook\" title=\"Ma cuisine\" class=\"cook\"/><img src=\"images/recipe.png\" alt=\"recipe\" title=\"Mes recettes\" class=\"recipe\"/></div></div><div class=\"shop\"><div class=\"navigation left\"></div><div class=\"swiper-container\"><div class=\"swiper-wrapper\"><div class=\"swiper-slide\"> <p>shop 1</p></div><div class=\"swiper-slide\"> <p>shop 2</p></div><div class=\"swiper-slide\"> <p>shop 3</p></div></div></div><div class=\"navigation right\"></div></div><div id=\"fridge\" class=\"fridge\"></div><div class=\"cook\"><div class=\"navigation left\"></div><div class=\"swiper-container\"><div class=\"swiper-wrapper\"><div class=\"swiper-slide\"> <p>cook 1</p></div><div class=\"swiper-slide\"> <p>cook 2</p></div></div></div><div class=\"navigation right\"></div></div><div class=\"recipe\">\"recipe\"</div></div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<span class=\"image col-xs-2\"> <img');\nbuf.push(attrs({ 'src':(\"\" + (image) + \"\"), 'alt':(\"image\"), 'title':(\"\" + (name) + \"\") }, {\"src\":true,\"alt\":true,\"title\":true}));\nbuf.push('/></span><span class=\"name col-xs-6\">' + escape((interp = name) == null ? '' : interp) + '</span><span class=\"number col-xs-2\">' + escape((interp = number) == null ? '' : interp) + '</span><span class=\"price col-xs-2\">' + escape((interp = price) == null ? '' : interp) + '</span>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<form role=\"form\" class=\"form-inline\"><div class=\"row\"><div class=\"form-group col-xs-7\"><input id=\"product-name\" type=\"text\" required=\"required\" placeholder=\"Produit\" class=\"form-control\"/></div><div class=\"form-group col-xs-2\"><input id=\"product-number\" type=\"text\" pattern=\"[0-9]+\" title=\"le nombre de produit de ce type\" placeholder=\"Nombre\" class=\"form-control\"/></div><div class=\"form-group col-xs-2\"><input id=\"product-price\" type=\"text\" required=\"required\" pattern=\"[0-9]+(.[0-9]+)?\" title=\"le prix unitaire de ce produit (ex: 3.2)\" placeholder=\"Prix unitaire\" class=\"form-control\"/></div><div class=\"form-group col-xs-1\"><button type=\"submit\" title=\"ajouter\" class=\"col-xs-1 btn btn-default glyphicon glyphicon-plus\"></button></div></div></form><ul class=\"products\"></ul>');\n}\nreturn buf.join(\"\");\n};","require('lib/view_helper');\n\n// Base class for all views.\nmodule.exports = Backbone.View.extend({\n    \"initialize\": function () {\n        this.render = _.bind(this.render, this);\n    },\n\n    \"template\": function () { return null; },\n    \"getRenderData\": function () { return null; },\n\n    \"render\": function () {\n        this.$el.html(this.template(this.getRenderData()));\n        this.afterRender();\n        return this;\n    },\n\n    \"afterRender\": function () { return null; }\n});\n"]}